import{a as p}from"./index-BtuGy7By.js";import{_ as c,c as f,a as t,d as m,w as l,v as d,e as v,r as _,t as a,b as i,o as g,f as h}from"./index-SS8ffFwr.js";const y={data(){return{isLogin:0,userdata:{city:"未知",class:"未知",class_id:1e7,created_at:"未知",id:"",password:"",province:"未知",school:"未知",username:"用户"}}},mounted(){this.loadFromCookie()},methods:{async requestUserdata(){p.post("http://home.ycxhl.top:8002/api/userdata/"+this.userdata.id+"/"+this.userdata.password).then(o=>{o.data.message==1?(this.userdata=o.data.data,this.saveToCookie()):alert("登录失败，请检查账号密码"),console.log(o.data),this.userdata=o.data.data})},saveToCookie(){i.set("userdata",JSON.stringify(this.userdata),{expires:7})},loadFromCookie(){const o=i.get("userdata");o&&(this.userdata=JSON.parse(o))}}},b={class:"dashboard-container"},x={class:"content-area"},k={class:"cards-container"},w={class:"card left-card"},C={class:"input-container"},z={class:"input-container"},B={class:"card right-card"},N={class:"data-item"},V={style:{"font-size":"large",color:"#3498db"}},S={style:{"font-size":"large",color:"#7f8c8d"}},T={style:{"font-size":"large",color:"#7f8c8d"}},U={style:{"font-size":"large",color:"#7f8c8d"}};function D(o,s,q,F,e,n){const u=_("router-link");return g(),f("div",b,[t("main",x,[t("div",k,[t("div",w,[s[6]||(s[6]=t("h2",null,"登录",-1)),s[7]||(s[7]=t("p",{style:{color:"#27ae60",fontWeight:"bold",fontSize:"1.2rem"}},"请输入你的账号和密码",-1)),t("div",C,[l(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>e.userdata.id=r),type:"text",placeholder:" "},null,512),[[d,e.userdata.id]]),s[3]||(s[3]=t("label",{class:"input-label"},"用户ID",-1))]),t("div",z,[l(t("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>e.userdata.password=r),type:"text",placeholder:" "},null,512),[[d,e.userdata.password]]),s[4]||(s[4]=t("label",{class:"input-label"},"用户密码",-1))]),t("a",{class:"Button",onClick:s[2]||(s[2]=r=>n.requestUserdata())},"登录"),m(u,{class:"Button",to:"/register"},{default:v(()=>s[5]||(s[5]=[h("注册")])),_:1})]),t("div",B,[s[11]||(s[11]=t("h2",null,"用户信息",-1)),t("div",N,[t("a",V,"你好，"+a(e.userdata.username)+" ！",1),s[8]||(s[8]=t("br",null,null,-1)),t("a",S,"地区: "+a(e.userdata.province)+"省"+a(e.userdata.city)+"市 ",1),s[9]||(s[9]=t("br",null,null,-1)),t("a",T,"学校: "+a(e.userdata.school),1),s[10]||(s[10]=t("br",null,null,-1)),t("a",U,"班级: "+a(e.userdata.class),1)])])])])])}const O=c(y,[["render",D],["__scopeId","data-v-6259e95e"]]);export{O as default};
